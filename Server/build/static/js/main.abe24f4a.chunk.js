(this["webpackJsonpwebii-proyectoii"]=this["webpackJsonpwebii-proyectoii"]||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var o=r(0),n=r(2),i=r.n(n),c=r(1),s=r.n(c),a=r(3),d=r(4),l=r(6),p=r(5),u=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{id:"focusedTweetRoot"}),Object(o.jsx)("div",{id:"commentsDiv"})]})}},{key:"componentDidMount",value:function(){s.a.render(Object(o.jsx)(f,{param:"tweetById",body:this.props.referencedTweet}),document.querySelector("#focusedTweetRoot")),s.a.render(Object(o.jsx)(f,{param:"comments",body:this.props.referencedTweet,renderComments:!0}),document.querySelector("#commentsDiv"))}}]),r}(i.a.Component),h=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsx)("div",{id:"feedDiv"})}},{key:"componentDidMount",value:function(){s.a.render(Object(o.jsx)(f,{param:"feedTweets"}),document.querySelector("#feedDiv"))}}]),r}(i.a.Component),b=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){switch(this.props.target){case"focusedTweet":s.a.render(Object(o.jsx)(u,{referencedTweet:this.props.referencedTweet}),document.querySelector("#SecondDiv"));break;case"profile":s.a.render(Object(o.jsx)(S,{username:document.cookie.split("username=")[1]}),document.querySelector("#SecondDiv"));break;case"feed":s.a.render(Object(o.jsx)(h,{}),document.querySelector("#SecondDiv"))}}}]),r}(i.a.Component),m=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var o;return Object(a.a)(this,r),(o=t.call(this,e)).deleteMedia=function(){o.setState({sendMedia:!1});var e=o.state.mediaState;"Keep"!==e&&"New"!==e&&"Change"!==e||o.setState({mediaState:"Delete"});var t=document.querySelector("#imgPreview"),r=document.querySelector("#videoPreview");t.hidden=!0,t.src="",r.hidden=!0,r.src=""},o.newTweet=function(){var e,t=document.querySelector("#TextContent"),r=document.querySelector("#message"),n=o.props.tweetid?o.props.tweetid:"nada";t.value.length>240?(r.style.color="red",r.innerHTML="Character limit surpassed!"):e=o.props.tweetid?o.props.isComment?"comment":0!==t.value.length||o.state.sendMedia?"rtWithComment":o.props.rtWithComment?"rtWithComment2":"rt":"originalPost",fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/postText",{method:"POST",body:JSON.stringify({text:t.value,type:e}),credentials:"include",headers:{"Content-Type":"application/json",Option:n}}).then((function(e){return e.text()})).then((function(e){if(o.state.sendMedia){var t=document.querySelector("#mediaInput"),n=new FormData(t);fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/postMedia",{method:"POST",body:n,credentials:"include",headers:{Option:e}}).then((function(e){200===e.status&&(r.style.color="green",r.innerHTML="Tweet posted.")}))}else r.style.color="green",r.innerHTML="Tweet posted."}))},o.postTweet=function(){o.props.edit?o.editTweet():o.newTweet()},o.fetchTweet=function(){var e=document.querySelector("#TextContent"),t=document.querySelector("#imgPreview"),r=document.querySelector("#videoPreview");fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getTweetById",{method:"POST",body:o.props.tweetid,credentials:"include"}).then((function(e){return e.json()})).then((function(n){e.value=n.text,n.filelocation&&(o.setState({mediaState:"Keep"}),fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getPostMedia",{method:"POST",body:n.filelocation,credentials:"include"}).then((function(e){var o=e.headers.get("Content-Type");e.blob().then((function(e){var n=URL.createObjectURL(e);o.includes("image")?(t.hidden=!1,t.src=n):(r.hidden=!1,r.src=n)}))})))}))},o.imageInput=function(){o.setState({sendMedia:!0}),"Empty"===o.state.mediaState?o.setState({mediaState:"New"}):"Delete"!==o.state.mediaState&&"Keep"!==o.state.mediaState||o.setState({mediaState:"Change"});var e=document.querySelector("#TFile"),t=new FileReader,r=document.querySelector("#imgPreview"),n=document.querySelector("#videoPreview");t.readAsDataURL(e.files[0]),t.onloadend=function(e){"image"===e.target.result.split(";")[0].split(":")[1].split("/")[0]?(n.src="",n.hidden=!0,r.hidden=!1,r.src=e.target.result):(r.src="",n.hidden=!1,r.hidden=!0,n.src=e.target.result)}},o.checkLength=function(){var e=document.querySelector("#TextContent"),t=document.querySelector("#lengthCounter");return t.innerHTML="Characters "+e.value.length+"/240",e.value.length>240?t.style.color="rgb(141,14,14)":t.style.color="rgb(59,134,53)",e.value.length},o.state={sendMedia:!1,mediaState:"Empty"},o}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{id:"message",style:{fontWeight:"bold"}}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{id:"text",children:Object(o.jsx)("textarea",{id:"TextContent",onInput:this.checkLength,style:{backgroundColor:"#2b2b2b",color:"white",resize:"none"},cols:"150",rows:"8",placeholder:"Write something..."})}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{id:"lengthCounter",style:{position:"absolute",fontWeight:"bold",color:"rgb(59,134,53)",left:"1050px"}}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsxs)("div",{id:"media",children:[Object(o.jsx)("div",{style:{position:"absolute",right:"50px"},children:Object(o.jsx)("img",{alt:"",onClick:this.triggerClick,style:{cursor:"pointer",width:"75px"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Icons8_flat_add_image.svg/1024px-Icons8_flat_add_image.svg.png"})}),Object(o.jsx)("img",{alt:"",id:"imgPreview",hidden:!0,style:{width:"250px"}}),Object(o.jsx)("video",{id:"videoPreview",hidden:!0,controls:!0,style:{width:"250px"}}),Object(o.jsx)("form",{id:"mediaInput",hidden:!0,children:Object(o.jsx)("input",{name:"tweetMedia",id:"TFile",accept:"image/jpeg, image/png, image/gif, video/mp4",onInput:this.imageInput,type:"file"})}),Object(o.jsx)("button",{onClick:this.postTweet,style:{cursor:"pointer",backgroundColor:"deepskyblue",borderColor:"deepskyblue",borderRadius:"15%",width:"75px",position:"absolute",left:"115px",top:"350px"},children:"Post"}),Object(o.jsx)("button",{onClick:this.deleteMedia,style:{cursor:"pointer",backgroundColor:"deepskyblue",borderColor:"deepskyblue",borderRadius:"15%",width:"115px",height:"22px",position:"absolute",left:"215px",top:"350px"},children:"Delete media"})]})]})}},{key:"editTweet",value:function(){var e=this,t=document.querySelector("#TextContent"),r=document.querySelector("#message");t.value.length>240?(r.style.color="red",r.innerHTML="Character limit surpassed!"):fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/editText",{method:"POST",credentials:"include",body:JSON.stringify({id:this.props.tweetid,text:document.querySelector("#TextContent").value}),headers:{"Content-Type":"application/json"}}).then((function(t){if(200===t.status){var r=e.state.mediaState;if("Keep"!==r&&"Empty"!==r){var n="Change"===r||"New"===r?new FormData(document.querySelector("#mediaInput")):"nada";fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/editMedia",{method:"POST",credentials:"include",body:n,headers:{Option:e.props.tweetid,Option2:r}}).then((function(e){200===e.status&&s.a.render(Object(o.jsx)(b,{target:"feed"}),document.querySelector("#SecondDiv"))}))}else s.a.render(Object(o.jsx)(b,{target:"feed"}),document.querySelector("#SecondDiv"))}}))}},{key:"componentDidMount",value:function(){document.querySelector("#lengthCounter").innerHTML="Characters 0/240",this.props.edit&&this.fetchTweet()}},{key:"triggerClick",value:function(){document.querySelector("#TFile").click()}}]),r}(i.a.Component),j=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).editTweet=function(){var t="rt"===e.props.type?e.props.referencedtweet:e.props.tweetid;s.a.render(Object(o.jsx)(m,{edit:!0,tweetid:t}),document.querySelector("#SecondDiv"))},e.getInteractions=function(){var t=document.querySelector("#Likes"+e.props.tweetid),r=document.querySelector("#Dislikes"+e.props.tweetid),o=document.querySelector("#Comments"+e.props.tweetid),n=document.querySelector("#Shares"+e.props.tweetid),i="rt"===e.props.type?e.props.referencedtweet:e.props.tweetid,c=[],s={type:"Like",id:i},a={type:"Dislike",id:i},d={type:"Comments",id:i},l={type:"Shares",id:i};c.push(e.fetchInteractions(s)),c.push(e.fetchInteractions(a)),c.push(e.fetchInteractions(d)),c.push(e.fetchInteractions(l)),Promise.all(c).then((function(e){for(var i=[],c=0;c<e.length;c++)i[c]=e[c].text();Promise.all(i).then((function(e){t.innerHTML="Likes: "+e[0],r.innerHTML="Dislikes: "+e[1],o.innerHTML="Comments: "+e[2],n.innerHTML="Shares: "+e[3]}))}))},e.fetchInteractions=function(e){return fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/Interactions",{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}})},e.Like=function(){var t={id:"rt"===e.props.type?e.props.referencedtweet:e.props.tweetid,action:"Like"};e.submitInteraction(t)},e.Dislike=function(){var t={id:"rt"===e.props.type?e.props.referencedtweet:e.props.tweetid,action:"Dislike"};e.submitInteraction(t)},e.submitInteraction=function(t){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/LikeDislike",{method:"POST",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&e.getInteractions()}))},e.getTweetData=function(){var t=e.props.referencedtweet&&"comment"!==e.props.type?e.props.referencedtweet:e.props.tweetid;fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getTweetById",{method:"POST",body:t,credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.renderTweetData(t.username,t.filelocation,t.text,t.tweet_date)}))},e.focus=function(){var t="rt"===e.props.type?e.props.referencedtweet:e.props.tweetid;s.a.render(Object(o.jsx)(b,{target:"focusedTweet",referencedTweet:t}),document.querySelector("#SecondDiv"))},e.renderTweetData=function(t,r,o,n){var i=document.querySelector("#userAvatar"+e.props.tweetid);document.querySelector("#tweetText"+e.props.tweetid).innerHTML=o.replace(/(\n)+/g,"<br/>");var c=document.querySelector("#tweetImg"+e.props.tweetid),s=document.querySelector("#tweetVideo"+e.props.tweetid);document.querySelector("#tweetDate"+e.props.tweetid).innerHTML=n.replace("T"," ").split(".")[0]+" GMT";var a=document.querySelector("#shared"+e.props.tweetid);document.querySelector("#username"+e.props.tweetid).innerHTML=t,"rt"===e.props.type&&(a.innerHTML="Shared by "+e.props.username),fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getAvatar",{method:"POST",body:t,credentials:"include"}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);i.src=t})),r&&fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getPostMedia",{method:"POST",body:r,credentials:"include"}).then((function(e){var t=e.headers.get("Content-Type");e.blob().then((function(e){var r=URL.createObjectURL(e);t.includes("image")?(c.hidden=!1,c.src=r):(s.hidden=!1,s.src=r)}))}))},e.shareTweet=function(){var t="rt"===e.props.type?e.props.referencedtweet:e.props.tweetid;s.a.render(Object(o.jsx)(m,{tweetid:t}),document.querySelector("#SecondDiv"))},e.CommentTweet=function(){var t="rt"===e.props.type?e.props.referencedtweet:e.props.tweetid;s.a.render(Object(o.jsx)(m,{tweetid:t,isComment:!0}),document.querySelector("#SecondDiv"))},e.deleteTweet=function(){var t="rt"===e.props.type?e.props.referencedtweet:e.props.tweetid;fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/deleteTweet",{method:"POST",credentials:"include",body:t}).then((function(e){200===e.status&&s.a.render(Object(o.jsx)(b,{target:"feed"}),document.querySelector("#SecondDiv"))}))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsxs)("div",{style:{borderBottom:"solid",borderColor:"black"},children:[Object(o.jsxs)("div",{id:"edition"+this.props.tweetid,hidden:!0,style:{position:"absolute"},children:[Object(o.jsx)("img",{id:"delete"+this.props.tweetid,alt:"",onClick:this.deleteTweet,style:{cursor:"pointer",width:"40px",position:"relative",left:"480px"},src:"https://vectorified.com/images/delete-icon-png-4.png"}),Object(o.jsx)("img",{id:"edit"+this.props.tweetid,alt:"",onClick:this.editTweet,style:{cursor:"pointer",width:"37px",position:"relative",left:"400px"},src:"https://cdn.pixabay.com/photo/2017/06/06/00/33/edit-icon-2375785_640.png"})]}),Object(o.jsx)("div",{children:Object(o.jsx)("p",{id:"shared"+this.props.tweetid,style:{textAlign:"justify",position:"relative",left:"140px"}})}),Object(o.jsx)("div",{id:"replyingTo",hidden:!0,style:{textAlign:"justify"},children:Object(o.jsx)("p",{id:"comment"+this.props.tweetid,style:{cursor:"pointer",position:"relative",left:"140px",top:"65px"}})}),Object(o.jsxs)("div",{id:"poster",style:{textAlign:"justify"},children:[Object(o.jsx)("p",{id:"username"+this.props.tweetid,style:{cursor:"pointer",position:"relative",left:"140px",top:"0px"}}),Object(o.jsx)("img",{id:"userAvatar"+this.props.tweetid,alt:"",style:{cursor:"pointer",width:"50px",borderRadius:"50%",borderStyle:"solid",borderColor:"deepskyblue",position:"relative",left:"65px",top:"-60px"},src:""})]}),Object(o.jsxs)("div",{id:"textAndMedia",onClick:this.focus,style:{textAlign:"justify"},children:[Object(o.jsx)("p",{id:"tweetText"+this.props.tweetid,onClick:this.focus,style:{position:"relative",left:"140px",top:"-60px",fontWeight:"bold"}}),Object(o.jsx)("video",{id:"tweetVideo"+this.props.tweetid,controls:!0,hidden:!0,style:{position:"relative",left:"130px",top:"-25px",borderStyle:"solid",borderColor:"Gray",borderRadius:"5%",width:"350px"}}),Object(o.jsx)("img",{id:"tweetImg"+this.props.tweetid,hidden:!0,alt:"",style:{position:"relative",left:"130px",top:"-25px",borderStyle:"solid",borderColor:"Gray",borderRadius:"5%",width:"350px"}})]}),Object(o.jsxs)("div",{id:"interactions",style:{textAlign:"justify"},children:[Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{id:"tweetDate"+this.props.tweetid,style:{position:"relative",top:"-35px",left:"140px",color:"gainsboro"}}),Object(o.jsx)("p",{style:{borderBottom:"solid",borderColor:"GrayText",position:"relative",top:"-40px"}}),Object(o.jsx)("img",{alt:"",style:{cursor:"pointer",width:"50px",position:"relative",top:"-25px",left:"140px"},onClick:this.Like,src:"https://i.pinimg.com/originals/ff/ec/ac/ffecac79568c406a212691a0d97ae858.png"}),Object(o.jsx)("img",{alt:"",style:{cursor:"pointer",width:"50px",position:"relative",top:"-25px",left:"180px"},onClick:this.Dislike,src:"https://image.flaticon.com/icons/png/512/196/196587.png"}),Object(o.jsx)("img",{alt:"",onClick:this.CommentTweet,style:{cursor:"pointer",width:"50px",position:"relative",top:"-25px",left:"220px"},src:"https://cdn3.iconfinder.com/data/icons/social-messaging-ui-color-shapes-2-1/254000/77-512.png"}),Object(o.jsx)("img",{alt:"",onClick:this.shareTweet,style:{cursor:"pointer",width:"50px",position:"relative",top:"-25px",left:"260px"},src:"https://pngimg.com/uploads/share/share_PNG31.png"})]})]}),Object(o.jsxs)("div",{style:{position:"absolute"},children:[Object(o.jsx)("p",{id:"Likes"+this.props.tweetid,style:{position:"relative",left:"120px",top:"-40px"},children:"Likes: 0"}),Object(o.jsx)("p",{id:"Dislikes"+this.props.tweetid,style:{position:"relative",left:"200px",top:"-75px"},children:"Dislikes: 0"}),Object(o.jsx)("p",{id:"Comments"+this.props.tweetid,style:{position:"relative",left:"305px",top:"-110px"},children:"Comments: 0"}),Object(o.jsx)("p",{id:"Shares"+this.props.tweetid,style:{position:"relative",left:"395px",top:"-145px"},children:"Shares: 0"})]})]})}},{key:"componentDidMount",value:function(){document.cookie.split("username=")[1]===this.props.username&&(document.querySelector("#edition"+this.props.tweetid).hidden=!1),this.getTweetData(),this.getInteractions()}}]),r}(i.a.Component),y=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).getCommentTweet=function(){var e="rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid;fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getTweetById",{method:"POST",body:e,credentials:"include"}).then((function(e){return e.json()})).then((function(e){n.renderCommentData(e.username,e.filelocation,e.text,e.tweet_date),n.getCommentedTweet(e.referencedtweet)}))},n.getCommentedTweet=function(e){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getTweetById",{method:"POST",body:e,credentials:"include"}).then((function(e){return e.json()})).then((function(e){n.setState({refenrece:e.tweetid}),n.renderCommentedData(e.username,e.filelocation,e.text)}))},n.renderCommentedData=function(e,t,r){document.querySelector("#oUsername"+n.props.tweetid).innerHTML=e,document.querySelector("#oText"+n.props.tweetid).innerHTML=r.replace(/(\n)+/g,"<br/>");var o=document.querySelector("#oImg"+n.props.tweetid),i=document.querySelector("#oVideo"+n.props.tweetid),c=document.querySelector("#oAvatar"+n.props.tweetid);fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getAvatar",{method:"POST",body:e,credentials:"include"}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);c.src=t})),t&&fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getPostMedia",{method:"POST",body:t,credentials:"include"}).then((function(e){var t=e.headers.get("Content-Type");e.blob().then((function(e){var r=URL.createObjectURL(e);t.includes("image")?(o.hidden=!1,o.src=r):(i.hidden=!1,i.src=r)}))}))},n.renderCommentData=function(e,t,r,o){document.querySelector("#username"+n.props.tweetid).innerHTML=e,document.querySelector("#text"+n.props.tweetid).innerHTML=r.replace(/(\n)+/g,"<br/>"),document.querySelector("#date"+n.props.tweetid).innerHTML=o.replace("T"," ").split(".")[0];var i=document.querySelector("#img"+n.props.tweetid),c=document.querySelector("#video"+n.props.tweetid),s=document.querySelector("#avatar"+n.props.tweetid);fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getAvatar",{method:"POST",body:e,credentials:"include"}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);s.src=t})),t&&fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getPostMedia",{method:"POST",body:t,credentials:"include"}).then((function(e){var t=e.headers.get("Content-Type");e.blob().then((function(e){var r=URL.createObjectURL(e);t.includes("image")?(i.hidden=!1,i.src=r):(c.hidden=!1,c.src=r)}))}))},n.share=function(){var e="rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid;s.a.render(Object(o.jsx)(m,{tweetid:e,rtWithComment:!0}),document.querySelector("#SecondDiv"))},n.CommentTweet=function(){var e="rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid;s.a.render(Object(o.jsx)(m,{tweetid:e,isComment:!0}),document.querySelector("#SecondDiv"))},n.focusTweet=function(){var e="rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid;s.a.render(Object(o.jsx)(b,{target:"focusedTweet",referencedTweet:e}),document.querySelector("#SecondDiv"))},n.focusOriginal=function(){var e=n.state.refenrece;s.a.render(Object(o.jsx)(b,{target:"focusedTweet",referencedTweet:e}),document.querySelector("#SecondDiv"))},n.getInteractions=function(){var e=document.querySelector("#Likes"+n.props.tweetid),t=document.querySelector("#Dislikes"+n.props.tweetid),r=document.querySelector("#Comments"+n.props.tweetid),o=document.querySelector("#Shares"+n.props.tweetid),i="rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid,c=[],s={type:"Like",id:i},a={type:"Dislike",id:i},d={type:"Comments",id:i},l={type:"Shares",id:i};c.push(n.fetchInteractions(s)),c.push(n.fetchInteractions(a)),c.push(n.fetchInteractions(d)),c.push(n.fetchInteractions(l)),Promise.all(c).then((function(n){for(var i=[],c=0;c<n.length;c++)i[c]=n[c].text();Promise.all(i).then((function(n){e.innerHTML="Likes: "+n[0],t.innerHTML="Dislikes: "+n[1],r.innerHTML="Comments: "+n[2],o.innerHTML="Shares: "+n[3]}))}))},n.fetchInteractions=function(e){return fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/Interactions",{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}})},n.Like=function(){var e={id:"rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid,action:"Like"};n.submitInteraction(e)},n.Dislike=function(){var e={id:"rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid,action:"Dislike"};n.submitInteraction(e)},n.submitInteraction=function(e){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/LikeDislike",{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status&&n.getInteractions()}))},n.editTweet=function(){var e="rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid;s.a.render(Object(o.jsx)(m,{edit:!0,tweetid:e}),document.querySelector("#SecondDiv"))},n.deleteTweet=function(){var e="rtWithComment2"===n.props.type?n.props.referencedtweet:n.props.tweetid;fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/deleteTweet",{method:"POST",credentials:"include",body:e}).then((function(e){200===e.status&&s.a.render(Object(o.jsx)(b,{target:"feed"}),document.querySelector("#SecondDiv"))}))},n.state={refenrece:null},n}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{id:"edition"+this.props.tweetid,hidden:!0,style:{position:"absolute"},children:[Object(o.jsx)("img",{id:"delete"+this.props.tweetid,alt:"",onClick:this.deleteTweet,style:{cursor:"pointer",width:"40px",position:"relative",left:"480px"},src:"https://vectorified.com/images/delete-icon-png-4.png"}),Object(o.jsx)("img",{id:"edit"+this.props.tweetid,alt:"",onClick:this.editTweet,style:{cursor:"pointer",width:"37px",position:"relative",left:"400px"},src:"https://cdn.pixabay.com/photo/2017/06/06/00/33/edit-icon-2375785_640.png"})]}),Object(o.jsxs)("div",{id:"SharedComment",children:[Object(o.jsx)("div",{id:!0,children:Object(o.jsx)("p",{id:"shared"+this.props.tweetid,style:{textAlign:"justify",position:"relative",left:"140px"}})}),Object(o.jsx)("div",{children:Object(o.jsx)("p",{id:"replying"+this.props.tweetid,style:{cursor:"pointer",position:"relative",left:"-385px",top:"65px"}})}),Object(o.jsxs)("div",{style:{textAlign:"justify"},children:[Object(o.jsx)("p",{id:"username"+this.props.tweetid,style:{cursor:"pointer",position:"relative",left:"140px",top:"0x"}}),Object(o.jsx)("img",{id:"avatar"+this.props.tweetid,alt:"",style:{cursor:"pointer",width:"50px",borderRadius:"50%",borderStyle:"solid",borderColor:"deepskyblue",position:"relative",left:"65px",top:"-40px"},src:""})]}),Object(o.jsxs)("div",{onClick:this.focusTweet,style:{textAlign:"justify"},children:[Object(o.jsx)("p",{id:"text"+this.props.tweetid,style:{position:"relative",left:"140px",top:"-60px",fontWeight:"bold"}}),Object(o.jsx)("video",{id:"video"+this.props.tweetid,controls:!0,hidden:!0,style:{position:"relative",left:"130px",top:"-25px",borderStyle:"solid",borderColor:"Gray",borderRadius:"5%",width:"350px"}}),Object(o.jsx)("img",{id:"img"+this.props.tweetid,hidden:!0,alt:"",src:"",style:{position:"relative",left:"130px",top:"-25px",borderStyle:"solid",borderColor:"Gray",borderRadius:"5%",width:"350px"}}),Object(o.jsx)("p",{id:"date"+this.props.tweetid,style:{position:"relative",top:"-35px",left:"140px",color:"gainsboro"}}),Object(o.jsx)("p",{style:{borderBottom:"solid",borderColor:"GrayText",position:"relative",top:"-40px"}})]}),Object(o.jsxs)("div",{id:"originalTweet",onClick:this.focusOriginal,style:{cursor:"pointer",borderStyle:"solid",borderRadius:"5%",borderColor:"black",width:"600px"},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{id:"oUsername"+this.props.tweetid,style:{cursor:"pointer",position:"relative",left:"-150px",top:"0x"}}),Object(o.jsx)("img",{id:"oAvatar"+this.props.tweetid,alt:"",style:{cursor:"pointer",width:"50px",borderRadius:"50%",borderStyle:"solid",borderColor:"deepskyblue",position:"relative",left:"-250px",top:"-45px"},src:""})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{id:"oText"+this.props.tweetid,style:{position:"relative",left:"140px",top:"-60px",fontWeight:"bold",textAlign:"justify"}}),Object(o.jsx)("video",{id:"oVideo"+this.props.tweetid,controls:!0,hidden:!0,style:{position:"relative",left:"-250px",top:"-25px",borderStyle:"solid",borderColor:"Gray",borderRadius:"5%",width:"350px"}}),Object(o.jsx)("img",{hidden:!0,id:"oImg"+this.props.tweetid,alt:"",src:"",style:{position:"relative",left:"-0px",top:"-25px",borderStyle:"solid",borderColor:"Gray",borderRadius:"5%",width:"350px"}})]})]}),Object(o.jsxs)("div",{id:"interactions",style:{textAlign:"justify"},children:[Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("img",{alt:"",onClick:this.Like,style:{cursor:"pointer",width:"50px",position:"relative",top:"-25px",left:"140px"},src:"https://i.pinimg.com/originals/ff/ec/ac/ffecac79568c406a212691a0d97ae858.png"}),Object(o.jsx)("img",{alt:"",onClick:this.Dislike,style:{cursor:"pointer",width:"50px",position:"relative",top:"-25px",left:"180px"},src:"https://image.flaticon.com/icons/png/512/196/196587.png"}),Object(o.jsx)("img",{alt:"",onClick:this.CommentTweet,style:{cursor:"pointer",width:"50px",position:"relative",top:"-25px",left:"220px"},src:"https://cdn3.iconfinder.com/data/icons/social-messaging-ui-color-shapes-2-1/254000/77-512.png"}),Object(o.jsx)("img",{alt:"",onClick:this.share,style:{cursor:"pointer",width:"50px",position:"relative",top:"-25px",left:"260px"},src:"https://pngimg.com/uploads/share/share_PNG31.png"}),Object(o.jsx)("p",{style:{borderBottom:"solid",borderColor:"black"}})]})]}),Object(o.jsxs)("div",{style:{position:"absolute"},children:[Object(o.jsx)("p",{id:"Likes"+this.props.tweetid,style:{position:"relative",left:"120px",top:"-70px"},children:"Likes: 0"}),Object(o.jsx)("p",{id:"Dislikes"+this.props.tweetid,style:{position:"relative",left:"200px",top:"-105px"},children:"Dislikes: 0"}),Object(o.jsx)("p",{id:"Comments"+this.props.tweetid,style:{position:"relative",left:"305px",top:"-140px"},children:"Comments: 0"}),Object(o.jsx)("p",{id:"Shares"+this.props.tweetid,style:{position:"relative",left:"400px",top:"-175px"},children:"Shares: 0"})]})]})}},{key:"componentDidMount",value:function(){"rtWithComment2"===this.props.type&&(document.querySelector("#shared"+this.props.tweetid).innerHTML="Shared by "+this.props.username),document.cookie.split("username=")[1]===this.props.username&&(document.querySelector("#edition"+this.props.tweetid).hidden=!1),this.getCommentTweet(),this.getInteractions()}}]),r}(i.a.Component),f=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).getTweets=function(){var t;switch(e.props.param){case"userTweets":t="https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getUserTweets";break;case"tweetById":t="https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getTweetById";break;case"tweetByText":t="https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getTweetByText";break;case"feedTweets":t="https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getFeedTweets";break;case"comments":t="https://twitterclone-webii-proyecto3.herokuapp.com/makeApost/getTweetComments"}fetch(t,{method:"POST",body:e.props.body,credentials:"include"}).then((function(e){return e.json()})).then((function(t){if(t.nada)console.log("Nothing to show");else{var r=[];if("tweetById"===e.props.param)"comment"===t.type||"originalPost"===t.type||"rt"===t.type?r[0]=Object(o.jsx)(j,{type:t.type,username:t.username,tweetid:t.tweetid,referencedtweet:t.referencedtweet}):"rtWithComment"!==t.type&&"rtWithComment2"!==t.type||(r[0]=Object(o.jsx)(y,{type:t.type,tweetid:t.tweetid,username:t.username,referencedtweet:t.referencedtweet}));else for(var n=0;n<t.length;n++)"rtWithComment"===t[n].type||"rtWithComment2"===t[n].type?r[n]=Object(o.jsx)(y,{type:t[n].type,tweetid:t[n].tweetid,username:t[n].username,referencedtweet:t[n].referencedtweet}):"comment"===t[n].type?e.props.renderComments&&(r[n]=Object(o.jsx)(j,{type:t[n].type,username:t[n].username,tweetid:t[n].tweetid,referencedtweet:t[n].referencedtweet})):r[n]=Object(o.jsx)(j,{type:t[n].type,username:t[n].username,tweetid:t[n].tweetid,referencedtweet:t[n].referencedtweet});e.props.renderComments?s.a.render(r,document.querySelector("#commentsDIV")):s.a.render(r,document.querySelector("#tweetDiv"))}}))},e}return Object(d.a)(r,[{key:"render",value:function(){return this.getTweets(),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{id:"tweetDiv"}),Object(o.jsx)("div",{id:"commentsDIV"})]})}}]),r}(i.a.Component),w=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsx)("p",{style:{fontWeight:"bold",fontSize:"x-large"},children:"Users"}),Object(o.jsx)("p",{style:{borderBottom:"groove",borderColor:"rgb(88,86,86)"}}),Object(o.jsx)("div",{id:"UList"}),Object(o.jsx)("p",{style:{fontWeight:"bold",fontSize:"x-large"},children:"Tweets"}),Object(o.jsx)("p",{style:{borderBottom:"groove",borderColor:"rgb(88,86,86)"}}),Object(o.jsx)("div",{id:"TList"})]})}},{key:"componentDidMount",value:function(){s.a.render(Object(o.jsx)(x,{searchParam:this.props.searchParam}),document.querySelector("#UList")),s.a.render(Object(o.jsx)(f,{param:"tweetByText",body:this.props.searchParam}),document.querySelector("#TList"))}}]),r}(i.a.Component),x=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).getUsers=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/profileData/userList",{method:"POST",body:e.props.searchParam,credentials:"include"}).then((function(e){return e.text()})).then((function(t){for(var r=t.split("|"),o=[],n=0;n<r.length;n++)r[n].length>1&&(o[n]=r[n].split("username"+n+" : ")[1]);e.showUsers(o)}))},e.showUsers=function(e){for(var t=document.querySelector("#userResultsDiv"),r=[],n=0;n<e.length;n++)r[n]=Object(o.jsx)(g,{username:e[n]});s.a.render(r,t)},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsx)("div",{id:"userResultsDiv"})}},{key:"componentDidMount",value:function(){this.getUsers()}}]),r}(i.a.Component),g=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).getAvatars=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getAvatar",{method:"POST",body:e.props.username,credentials:"include"}).then((function(e){return e.blob()})).then((function(t){var r=URL.createObjectURL(t);document.querySelector("#Avatar"+e.props.username).src=r}))},e.showProfile=function(){s.a.render(Object(o.jsx)(S,{username:e.props.username}),document.querySelector("#SecondDiv"))},e}return Object(d.a)(r,[{key:"render",value:function(){return this.getAvatars(),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{id:"UserDiv",style:{textAlign:"center",borderStyle:"groove",borderColor:"#585858",backgroundColor:"rgb(69,67,67)",borderRadius:"10%",width:"225px"},children:[Object(o.jsx)("img",{alt:"",id:"Avatar"+this.props.username,onClick:this.showProfile,style:{cursor:"pointer",position:"absolute",left:"75px",borderStyle:"solid",borderColor:"deepskyblue",borderRadius:"50%",width:"35px"}}),Object(o.jsx)("p",{onClick:this.showProfile,style:{cursor:"pointer"},children:this.props.username})]}),Object(o.jsx)("br",{})]})}}]),r}(i.a.Component),O=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).fetchState=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/getVisibility",{method:"GET",credentials:"include"}).then((function(e){return e.text()})).then((function(e){var t=document.querySelector("#accountVisibilityLabel");t.innerHTML="true"===e?"Go public":"Go private"}))},e.setState=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/setVisibility",{method:"GET",credentials:"include"}).then((function(){e.fetchState()}))},e.verifyUsernameInput=function(){var t=document.querySelector('[name="username"]').value;0===t.length?e.changeInputCheckmark("usernameCheck","nada"):t.length>25?e.changeInputCheckmark("usernameCheck","Incorrect"):e.serverSideCheck("usernameCheck",t)},e.verifyMailInput=function(){var t=document.querySelector('[name="mail"]').value;0===t.length?e.changeInputCheckmark("mailCheck","nada"):e.serverSideCheck("mailCheck",t)},e.verifyCurrentPassInput=function(){var t=document.querySelector('[name="currentPass"]').value;0===t.length?e.changeInputCheckmark("currentPassCheck","Incorrect"):e.serverSideCheck("currentPassCheck",t)},e.verifyNewPassInput=function(){var t=document.querySelector('[name="newPass"]').value,r=document.querySelector('[name="confirmation"]').value;0===t.length&&0===r.length?(e.changeInputCheckmark("newPassCheck","nada"),e.changeInputCheckmark("newPassCheck2","nada")):t!==r||t.length<6||r.length<6||t.length>32||r.length>32?(e.changeInputCheckmark("newPassCheck","Incorrect"),e.changeInputCheckmark("newPassCheck2","Incorrect")):(e.changeInputCheckmark("newPassCheck","Correct"),e.changeInputCheckmark("newPassCheck2","Correct"))},e.serverSideCheck=function(t,r){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/verify",{method:"POST",body:JSON.stringify({type:t,input:r}),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(r){"OK."===r?e.changeInputCheckmark(t,"Correct"):e.changeInputCheckmark(t,"Incorrect")}))},e.submit=function(){var e=new FormData(document.querySelector("#newDataForm"));fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/submitChanges",{method:"POST",credentials:"include",body:e}).then((function(e){return e.text()})).then((function(e){"Changes saved."===e?s.a.render(Object(o.jsx)(b,{target:"profile"}),document.querySelector("#SecondDiv")):document.querySelector("#message").innerHTML=e}))},e.submitDelete=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/deleteAccount",{method:"GET",credentials:"include"}).then((function(t){200===t.status&&t.text().then((function(t){"Goodbye."===t&&e.Logout()}))}))},e.Logout=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/LoginSingUp/Logout",{method:"GET",credentials:"include"}).then((function(e){if(200===e.status){var t=document.cookie.split("=")[0];document.cookie=t+"=; expires = Thu, 01 Jan 1970 00:00:00 UTC",s.a.render(Object(o.jsx)(M,{}),document.querySelector("#root")),window.location.reload()}}))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{style:{textAlign:"left"},children:[Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsxs)("div",{style:{color:"Highlight"},children:[Object(o.jsx)("h3",{children:"Edit your current data"}),Object(o.jsxs)("h5",{children:["Notes: ",Object(o.jsx)("br",{}),"* To edit your avatar click on it in your profile page"]}),Object(o.jsx)("h5",{children:"* Leave blank fields that shouldn't be edited"}),Object(o.jsx)("h5",{children:"* To make any changes you must insert your current password"})]}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{id:"message",style:{color:"red",fontWeight:"bold",fontSize:""}}),Object(o.jsx)("br",{}),Object(o.jsxs)("form",{id:"newDataForm",children:[Object(o.jsx)("label",{htmlFor:"username",style:{fontWeight:"bold",fontSize:"small",color:"Yellow"},children:"Username: "}),Object(o.jsx)("input",{name:"username",onInput:this.verifyUsernameInput,style:{backgroundColor:"black",borderRadius:"10%",color:"yellow",borderColor:"gray"},placeholder:"New username...",type:"text"}),Object(o.jsx)("img",{id:"usernameCheck",alt:"",style:{width:"20px"},src:""}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"mail",style:{fontWeight:"bold",fontSize:"small",color:"Yellow"},children:"E-Mail: "}),Object(o.jsx)("input",{name:"mail",onInput:this.verifyMailInput,style:{backgroundColor:"black",borderRadius:"10%",color:"yellow",borderColor:"gray"},placeholder:"New E-Mail...",type:"mail"}),Object(o.jsx)("img",{id:"mailCheck",alt:"",style:{width:"20px"},src:""}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"currentPass",style:{fontWeight:"bold",fontSize:"small",color:"Yellow"},children:"Current password: "}),Object(o.jsx)("input",{onInput:this.verifyCurrentPassInput,name:"currentPass",style:{backgroundColor:"black",borderRadius:"10%",color:"yellow",borderColor:"gray"},placeholder:"Your current password...",type:"password"}),Object(o.jsx)("img",{id:"currentPassCheck",alt:"",style:{width:"20px"},src:""}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"newPass",style:{fontWeight:"bold",fontSize:"small",color:"Yellow"},children:"New password: "}),Object(o.jsx)("input",{onInput:this.verifyNewPassInput,name:"newPass",style:{backgroundColor:"black",borderRadius:"10%",color:"yellow",borderColor:"gray"},placeholder:"Your new password...",type:"password"}),Object(o.jsx)("img",{id:"newPassCheck",alt:"",style:{width:"20px"},src:""}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"confirmation",style:{fontWeight:"bold",fontSize:"small",color:"Yellow"},children:"Confirm new password: "}),Object(o.jsx)("input",{onInput:this.verifyNewPassInput,name:"confirmation",style:{backgroundColor:"black",borderRadius:"10%",color:"yellow",borderColor:"gray"},placeholder:"Your new password...",type:"password"}),Object(o.jsx)("img",{id:"newPassCheck2",alt:"",style:{width:"20px"},src:""})]}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{onClick:this.submit,type:"image",style:{width:"50px"},alt:"submit",src:"https://image.flaticon.com/icons/png/512/223/223120.png"}),Object(o.jsx)("label",{style:{position:"relative",left:"10px",top:"-20px",fontWeight:"bold",color:"greenyellow"},children:"Save changes"}),Object(o.jsx)("img",{alt:"",onClick:this.submitDelete,style:{cursor:"pointer",width:"40px",position:"relative",left:"480px"},src:"https://vectorified.com/images/delete-icon-png-4.png"}),Object(o.jsx)("label",{style:{position:"relative",left:"490px",top:"-15px",color:"red",fontWeight:"bold"},children:"Delete account"}),Object(o.jsx)("input",{type:"image",alt:"",src:"http://www.orion.on.ca/wp-content/uploads/2016/01/Security-Lock.png",onClick:this.setState,style:{width:"50px"}}),Object(o.jsx)("label",{id:"accountVisibilityLabel",style:{position:"relative",left:"20px",top:"-15px",color:"skyblue",fontWeight:"bold"}})]})}},{key:"changeInputCheckmark",value:function(e,t){switch(t){case"Correct":document.querySelector("#"+e).src="https://vectorified.com/images/submit-icon-png-37.png";break;case"Incorrect":document.querySelector("#"+e).src="https://www.shareicon.net/data/2015/09/15/101562_incorrect_512x512.png";break;case"nada":document.querySelector("#"+e).src=""}}},{key:"componentDidMount",value:function(){this.fetchState()}}]),r}(i.a.Component),v=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return s.a.render(Object(o.jsx)(k,{}),document.getElementById("root")),s.a.render(Object(o.jsx)(S,{username:this.props.username}),document.getElementById("SecondDiv")),null}}]),r}(i.a.Component),k=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderWriter=function(){s.a.render(Object(o.jsx)(m,{username:document.cookie.split("username=")[1]}),document.querySelector("#SecondDiv"))},e.showSearchBar=function(){var e=document.querySelector("#searchBar"),t=document.querySelector("#logo");e.hidden=!e.hidden,t.style.left=e.hidden?"605px":"385px"},e.search=function(e){e.preventDefault();var t=document.querySelector("#searchBar");s.a.render(Object(o.jsx)(w,{searchParam:t.value}),document.querySelector("#SecondDiv"))},e.renderProfile=function(){s.a.render(Object(o.jsx)(b,{target:"profile"}),document.getElementById("SecondDiv"))},e.renderFeed=function(){s.a.render(Object(o.jsx)(b,{target:"feed"}),document.getElementById("SecondDiv"))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{style:{borderStyle:"groove",textAlign:"left",width:"1200px",height:"50px",borderColor:"deepskyblue",backgroundColor:"skyblue"},children:[Object(o.jsx)("p",{id:"Home",style:{cursor:"pointer",position:"absolute",left:"95px",color:"black",fontWeight:"bold"},onClick:this.renderFeed,children:"FEED"}),Object(o.jsx)("img",{alt:"",onClick:this.showSearchBar,src:"https://cdn3.iconfinder.com/data/icons/block/32/search-512.png",style:{cursor:"pointer",width:"25px",position:"absolute",left:"740px",top:"60px"}}),Object(o.jsx)("form",{onSubmit:this.search,style:{position:"absolute",left:"500px",top:"62px"},children:Object(o.jsx)("input",{hidden:!0,id:"searchBar",type:"text",style:{borderStyle:"solid",borderColor:"black",backgroundColor:"gray"},placeholder:"Search..."})}),Object(o.jsx)("p",{id:"logo",style:{position:"absolute",left:"605px",color:"black",fontWeight:"bold"},children:"Twitter Clone"}),Object(o.jsx)("p",{style:{cursor:"pointer",position:"absolute",left:"1145px",color:"black",fontWeight:"bold"},id:"Profile",onClick:this.renderProfile,children:"PROFILE"}),Object(o.jsx)("img",{alt:"",onClick:this.renderWriter,src:"https://cdn1.iconfinder.com/data/icons/action-states-vol-4-1/48/Sed-04-512.png",style:{position:"fixed",borderRadius:"50%",borderColor:"deepskyblue",borderStyle:"solid",backgroundColor:"deepskyblue",width:"65px",left:"1180px",top:"75%",cursor:"pointer"}})]})}}]),r}(i.a.Component),S=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).goToEditPage=function(){s.a.render(Object(o.jsx)(O,{}),document.querySelector("#SecondDiv"))},e.browseAvatar=function(){document.cookie.split("username=")[1]===e.props.username&&document.querySelector("#browser").click()},e.followUnfollow=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/profileData/follow",{method:"POST",body:e.props.username,credentials:"include"}).then((function(e){return e.text()})).then((function(t){var r=document.querySelector("#FollowButton");"Following"===t?r.innerHTML="Unfollow":"Unfollowed"===t&&(r.innerHTML="Follow"),e.getFollowsCount()}))},e.changeAvatar=function(){if(null!==e.props.username){var t=document.querySelector("#Avatar"),r=new FormData(t);fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/upload",{method:"POST",credentials:"include",body:r}).then((function(e){200===e.status&&s.a.render(Object(o.jsx)(b,{target:"profile"}),document.querySelector("#SecondDiv"))}))}},e.getProfile=function(){null!==e.props.username&&(document.querySelector("#username").innerHTML=e.props.username,e.getFollowsCount(),fetch("https://twitterclone-webii-proyecto3.herokuapp.com/fileManager/getAvatar",{method:"POST",credentials:"include",body:e.props.username?e.props.username:""}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);document.querySelector("#img").src=t})))},e.getButtonState=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/profileData/following",{method:"POST",body:e.props.username,credentials:"include"}).then((function(e){return e.text()})).then((function(t){var r=document.querySelector("#FollowButton");"True"===t?r.innerHTML="Unfollow":"False"===t&&(r.innerHTML="Follow"),e.showTweets(t)}))},e.showTweets=function(t){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/DataEdition/getVisibility",{method:"GET",credentials:"include"}).then((function(r){200===r.status&&r.text().then((function(r){"true"===r?"True"===t&&s.a.render(Object(o.jsx)(f,{param:"userTweets",body:e.props.username}),document.querySelector("#tweets")):s.a.render(Object(o.jsx)(f,{param:"userTweets",body:e.props.username}),document.querySelector("#tweets"))}))}))},e.getFollowsCount=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/profileData/userProfile",{method:"POST",credentials:"include",body:e.props.username}).then((function(e){return e.json()})).then((function(e){document.querySelector("#followersCount").innerHTML="Followers: "+e.followers,document.querySelector("#followingCount").innerHTML="Following: "+e.follows}))},e.Logout=function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/LoginSingUp/Logout",{method:"GET",credentials:"include"}).then((function(e){if(200===e.status){var t=document.cookie.split("=")[0];document.cookie=t+"=; expires = Thu, 01 Jan 1970 00:00:00 UTC",s.a.render(Object(o.jsx)(M,{}),document.querySelector("#root")),window.location.reload()}}))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("img",{onClick:this.goToEditPage,id:"editProfile",hidden:!0,alt:"",style:{position:"absolute",width:"30px",left:"720px",cursor:"pointer"},src:"https://cdn.pixabay.com/photo/2015/12/04/22/20/gear-1077550_960_720.png"}),Object(o.jsx)("img",{alt:"",id:"img",onClick:this.browseAvatar,style:{cursor:"pointer",borderRadius:"50%",borderStyle:"solid",borderColor:"deepskyblue",width:"100px"}}),Object(o.jsx)("form",{id:"Avatar",children:Object(o.jsx)("input",{id:"browser",onInput:this.changeAvatar,name:"newAvatar",type:"file",style:{display:"none"}})}),Object(o.jsx)("p",{id:"username",children:"USER"}),Object(o.jsx)("p",{id:"followersCount",style:{color:"aquamarine"},children:"Followers:"}),Object(o.jsx)("p",{id:"followingCount",style:{color:"aquamarine"},children:"Following:"}),Object(o.jsx)("button",{id:"FollowButton",onClick:this.followUnfollow,style:{backgroundColor:"rgb(74,92,191)",borderColor:"black",color:"rgb(255,251,207)",width:"100px",height:"25px",borderRadius:"15%"},hidden:!0}),Object(o.jsx)("button",{id:"LogoutButton",onClick:this.Logout,style:{backgroundColor:"rgb(74,92,191)",borderColor:"black",color:"rgb(255,251,207)",width:"100px",height:"25px",borderRadius:"15%"},hidden:!0,children:"Logout"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{style:{borderStyle:"solid",borderColor:"gray",borderLeft:"none",borderRight:"none",fontWeight:"bold"},children:Object(o.jsx)("p",{style:{fontWeight:"bold"},children:"Tweets"})}),Object(o.jsx)("div",{id:"tweets"})]})}},{key:"componentDidMount",value:function(){document.cookie.split("username=")[1]!==this.props.username?(document.querySelector("#FollowButton").hidden=!1,this.getButtonState()):(document.querySelector("#LogoutButton").hidden=!1,document.querySelector("#editProfile").hidden=!1,s.a.render(Object(o.jsx)(f,{param:"userTweets",body:this.props.username}),document.querySelector("#tweets"))),this.getProfile()}}]),r}(i.a.Component),C=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).submitLogin=function(){var e=document.querySelector("#LoginForm"),t=new FormData(e);fetch("https://twitterclone-webii-proyecto3.herokuapp.com/LoginSingUp/Login",{method:"POST",body:t,credentials:"include"}).then((function(e){return e.text()})).then((function(e){if(e.includes("successful")){var t=document.querySelector("#username").value;document.cookie="username="+t,s.a.render(Object(o.jsx)(v,{username:t}),document.getElementById("SecondDiv"))}else{var r=document.querySelector("#Error");r.style.color="red",r.innerHTML=e}}))},n.state={passMatch:!1,validMail:!1,validUser:!1},n}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{id:"Error"}),Object(o.jsx)("br",{}),Object(o.jsxs)("form",{id:"LoginForm",children:[Object(o.jsx)("label",{children:"Username:     "}),Object(o.jsx)("input",{id:"username",type:"text",name:"Username",placeholder:"Your username"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Password:    "}),Object(o.jsx)("input",{type:"password",name:"Password",placeholder:"Your password"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"button",value:"Login",onClick:this.submitLogin})]})]})}}]),r}(i.a.Component),T=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).submitRegister=function(){if(e.state.passMatch&&e.state.validMail&&e.state.validUser){var t=document.querySelector("#RegisterForm"),r=new FormData(t);fetch("https://twitterclone-webii-proyecto3.herokuapp.com/loginSingUp/SingUp",{method:"POST",body:r}).then((function(e){return e.text()})).then((function(e){var t=document.querySelector("#Message");e.includes("completed")?t.style.color="green":t.style.color="red",t.innerHTML=e}))}},e.checkPasswordMatch=function(){var t=document.querySelector("#pass1"),r=document.querySelector("#pass2"),o=document.querySelector("#Message");t.value!==r.value?(e.setState({passMatch:!1}),o.style.color="red",o.innerHTML="Passwords do not match."):t.value.length<6||t.value.length>32?(e.setState({passMatch:!1}),o.style.color="red",o.innerHTML="Password length must be between 6 to 32 characters."):(e.setState({passMatch:!0}),o.innerHTML="")},e.userValidation=function(){var t=document.querySelector("#username").value,r=document.querySelector("#Message3");t.length>32?(e.setState({validUser:!1}),r.style.color="red",r.innerHTML="Username too long."):0===t.length?(e.setState({validUser:!1}),r.innerHTML=""):(e.setState({validUser:!0}),r.innerHTML="")},e.emailValidation=function(){var t=document.querySelector("#mail"),r=document.querySelector("#Message2");/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)?(e.setState({validMail:!0}),r.innerHTML=""):(e.setState({validMail:!1}),""===t.value?r.innerHTML="":(r.style.color="red",r.innerHTML="E-Mail address is not valid."))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{id:"Message"}),Object(o.jsx)("p",{id:"Message2"}),Object(o.jsx)("p",{id:"Message3"}),Object(o.jsx)("br",{}),Object(o.jsxs)("form",{id:"RegisterForm",children:[Object(o.jsx)("label",{children:"Username:     "}),Object(o.jsx)("input",{id:"username",onInput:this.userValidation,type:"text",name:"Username",placeholder:"Your username"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"E-Mail:     "}),Object(o.jsx)("input",{id:"mail",onInput:this.emailValidation,name:"Mail",placeholder:"Your E-Mail"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Password:    "}),Object(o.jsx)("input",{id:"pass1",onInput:this.checkPasswordMatch,type:"password",name:"Password",placeholder:"Your password"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Confirm password:    "}),Object(o.jsx)("input",{id:"pass2",onInput:this.checkPasswordMatch,type:"password",name:"Password2",placeholder:"Confirm your password"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"button",value:"Register",onClick:this.submitRegister})]})]})}}]),r}(i.a.Component),q=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).changePage=function(){s.a.render(Object(o.jsx)(T,{}),document.getElementById("SecondDiv"))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsx)("button",{onClick:this.changePage,style:{margin:"15px"},children:"Register"})}}]),r}(i.a.Component),L=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).changePage=function(){s.a.render(Object(o.jsx)(C,{}),document.getElementById("SecondDiv"))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(o.jsx)("button",{onClick:this.changePage,style:{margin:"15px"},children:"Login"})}}]),r}(i.a.Component),M=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return this.LoggedIn(),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Twitter clone"}),Object(o.jsx)("h4",{children:"Made by Jesus M."}),Object(o.jsx)(q,{}),Object(o.jsx)(L,{})]})}},{key:"LoggedIn",value:function(){fetch("https://twitterclone-webii-proyecto3.herokuapp.com/loginSingUp/LoggedIn",{method:"GET",credentials:"include"}).then((function(e){return e.text()})).then((function(e){"True"===e&&s.a.render(Object(o.jsx)(v,{}),document.getElementById("root"))}))}}]),r}(i.a.Component);r(13);s.a.render(Object(o.jsx)(M,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.abe24f4a.chunk.js.map